"use strict";(self.webpackChunkcredora_blog=self.webpackChunkcredora_blog||[]).push([[47951],{47951:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});var a=n(96540),l=n.n(a),s=n(71181),c=n(84976);const r=()=>{const[e,t]=(0,a.useState)(0);(0,a.useEffect)((()=>{document.title="Count: ".concat(e)}),[e]);const[n,r]=(0,a.useState)(null),[m,o]=(0,a.useState)(!1),[u,i]=(0,a.useState)(null);(0,a.useEffect)((()=>{(async()=>{o(!0);try{const e=await fetch("https://jsonplaceholder.typicode.com/users/1"),t=await e.json();r(t),i(null)}catch(e){i("Failed to fetch user"),r(null)}finally{o(!1)}})()}),[]);const[d,p]=(0,a.useState)(!0);return l().createElement(s.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-4xl mx-auto p-6"},l().createElement("h1",{className:"text-3xl font-bold text-gray-800 mb-6"},"useEffect Hook"),l().createElement("section",{className:"mb-8"},l().createElement("h2",{className:"text-2xl font-semibold text-gray-700 mb-4"},"What is useEffect?"),l().createElement("p",{className:"text-gray-600 mb-4"},"useEffect is a Hook that lets you perform side effects in function components. Side effects include:"),l().createElement("ul",{className:"list-disc list-inside text-gray-600 space-y-2 mb-4"},l().createElement("li",null,"Data fetching"),l().createElement("li",null,"Subscriptions"),l().createElement("li",null,"DOM manipulation"),l().createElement("li",null,"Event listeners"),l().createElement("li",null,"Timer functions")),l().createElement("div",{className:"bg-pink-50 border-l-4 border-pink-500 p-4 mb-6"},l().createElement("p",{className:"text-pink-700"},l().createElement("strong",null,"Best Practice:")," Always include all dependencies in the dependency array that are used inside the effect."))),l().createElement("section",{className:"mb-8"},l().createElement("h2",{className:"text-2xl font-semibold text-gray-700 mb-4"},"Basic Example: Document Title"),l().createElement("div",{className:"bg-white shadow-md rounded-lg p-6 mb-4"},l().createElement("p",{className:"text-gray-600 mb-4"},"Current count: ",e),l().createElement("button",{onClick:()=>t((e=>e+1)),className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"},"Increment"),l().createElement("p",{className:"text-gray-500 mt-2 text-sm"},"Check your browser tab title - it updates with the count!")),l().createElement("div",{className:"bg-gray-100 p-4 rounded-lg text-sm font-mono mb-4"},"const [count, setCount] = useState(0);\n\nuseEffect(() => {\n  document.title = `Count: ${count}`;\n}, [count]);  // Only re-run when count changes")),l().createElement("section",{className:"mb-8"},l().createElement("h2",{className:"text-2xl font-semibold text-gray-700 mb-4"},"Data Fetching Example"),l().createElement("div",{className:"bg-white shadow-md rounded-lg p-6 mb-4"},m?l().createElement("p",{className:"text-gray-600"},"Loading..."):u?l().createElement("p",{className:"text-red-500"},u):n?l().createElement("div",null,l().createElement("h3",{className:"font-semibold mb-2"},n.name),l().createElement("p",{className:"text-gray-600"},n.email),l().createElement("p",{className:"text-gray-600"},n.phone)):null),l().createElement("div",{className:"bg-gray-100 p-4 rounded-lg text-sm font-mono mb-4"},"const [user, setUser] = useState(null);\nconst [loading, setLoading] = useState(false);\nconst [error, setError] = useState(null);\n\nuseEffect(() => {\n  const fetchUser = async () => {\n    setLoading(true);\n    try {\n      const response = await fetch('https://api.example.com/user');\n      const data = await response.json();\n      setUser(data);\n    } catch (err) {\n      setError('Failed to fetch user');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  fetchUser();\n}, []);  // Empty array = run once on mount")),l().createElement("section",{className:"mb-8"},l().createElement("h2",{className:"text-2xl font-semibold text-gray-700 mb-4"},"Cleanup Example"),l().createElement("div",{className:"bg-white shadow-md rounded-lg p-6 mb-4"},l().createElement("button",{onClick:()=>p((e=>!e)),className:"bg-purple-500 text-white px-4 py-2 rounded hover:bg-purple-600 mb-4"},"Toggle Component"),d&&l().createElement("div",{className:"bg-gray-100 p-4 rounded"},l().createElement("p",{className:"text-gray-600"},"This component cleans up after itself when unmounted!"))),l().createElement("div",{className:"bg-gray-100 p-4 rounded-lg text-sm font-mono mb-4"},"useEffect(() => {\n  // Setup\n  const subscription = someAPI.subscribe();\n\n  // Cleanup function\n  return () => {\n    subscription.unsubscribe();\n  };\n}, []);  // Empty array = run on mount, cleanup on unmount")),l().createElement("section",{className:"mb-8"},l().createElement("h2",{className:"text-2xl font-semibold text-gray-700 mb-4"},"Common Patterns"),l().createElement("div",{className:"space-y-4"},l().createElement("div",{className:"bg-yellow-50 border-l-4 border-yellow-500 p-4"},l().createElement("p",{className:"text-yellow-700"},l().createElement("strong",null,"‚ö†Ô∏è Run once on mount:")),l().createElement("pre",{className:"bg-yellow-100 p-2 rounded mt-2 text-sm"},"useEffect(() => {\n  // Your code here\n}, []);  // Empty dependency array")),l().createElement("div",{className:"bg-green-50 border-l-4 border-green-500 p-4"},l().createElement("p",{className:"text-green-700"},l().createElement("strong",null,"‚úÖ Run on specific prop/state changes:")),l().createElement("pre",{className:"bg-green-100 p-2 rounded mt-2 text-sm"},"useEffect(() => {\n  // Your code here\n}, [prop1, prop2]);  // Only run if these values change")),l().createElement("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4"},l().createElement("p",{className:"text-blue-700"},l().createElement("strong",null,"üîÑ Run on every render:")),l().createElement("pre",{className:"bg-blue-100 p-2 rounded mt-2 text-sm"},"useEffect(() => {\n  // Your code here\n});  // No dependency array")))),l().createElement("section",{className:"mb-8"},l().createElement("h2",{className:"text-2xl font-semibold text-gray-700 mb-4"},"Best Practices"),l().createElement("ul",{className:"list-disc list-inside text-gray-600 space-y-2"},l().createElement("li",null,"Always clean up side effects (subscriptions, timers, listeners)"),l().createElement("li",null,"Include all dependencies used inside the effect"),l().createElement("li",null,"Keep effects focused on one concern"),l().createElement("li",null,"Use multiple effects to separate concerns"),l().createElement("li",null,"Avoid infinite loops by properly setting dependencies"))),l().createElement("div",{className:"mt-12 flex justify-between items-center"},l().createElement(c.N_,{to:"/react-course/useState",className:"text-blue-600 hover:text-blue-800"},"‚Üê Previous"),l().createElement(c.N_,{to:"/react-course/useContext",className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors"},"Next ‚Üí")))}}}]);