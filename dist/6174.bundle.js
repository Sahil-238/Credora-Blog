"use strict";(self.webpackChunkcredora_blog=self.webpackChunkcredora_blog||[]).push([[6174],{6174:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});var a=n(96540),l=n.n(a),s=n(71181),r=n(84976),o=n(42644);const c=()=>{const[e,t]=((e,t)=>{const[n,l]=(0,a.useState)((()=>{try{const n=window.localStorage.getItem(e);return n?JSON.parse(n):t}catch(e){return console.error(e),t}}));return[n,t=>{try{const a=t instanceof Function?t(n):t;l(a),window.localStorage.setItem(e,JSON.stringify(a))}catch(e){console.error(e)}}]})("theme","light");return l().createElement("div",{className:"p-4 bg-gray-50 rounded"},l().createElement("h3",{className:"font-semibold mb-2"},"Theme Preference"),l().createElement("select",{value:e,onChange:e=>t(e.target.value),className:"px-3 py-2 border rounded"},l().createElement("option",{value:"light"},"Light"),l().createElement("option",{value:"dark"},"Dark")),l().createElement("p",{className:"mt-2 text-sm text-gray-600"},"Your preference is saved in localStorage"))},i=()=>{const{width:e,height:t}=(()=>{const[e,t]=(0,a.useState)({width:window.innerWidth,height:window.innerHeight});return(0,a.useEffect)((()=>{const e=()=>{t({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]),e})();return l().createElement("div",{className:"p-4 bg-gray-50 rounded"},l().createElement("h3",{className:"font-semibold mb-2"},"Window Size"),l().createElement("p",null,"Width: ",e,"px"),l().createElement("p",null,"Height: ",t,"px"),l().createElement("p",{className:"mt-2 text-sm text-gray-600"},"Try resizing your window!"))},m=()=>{const{data:e,loading:t,error:n}=(e=>{const[t,n]=(0,a.useState)(null),[l,s]=(0,a.useState)(!0),[r,o]=(0,a.useState)(null);return(0,a.useEffect)((()=>{(async()=>{try{s(!0);const t=await fetch(e),a=await t.json();n(a),o(null)}catch(e){o("Failed to fetch data"),n(null)}finally{s(!1)}})()}),[e]),{data:t,loading:l,error:r}})("https://jsonplaceholder.typicode.com/users/1");return l().createElement("div",{className:"p-4 bg-gray-50 rounded"},l().createElement("h3",{className:"font-semibold mb-2"},"User Data"),t?l().createElement("p",null,"Loading..."):n?l().createElement("p",{className:"text-red-500"},n):e?l().createElement("div",null,l().createElement("p",null,"Name: ",e.name),l().createElement("p",null,"Email: ",e.email)):null)},d=()=>l().createElement(s.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-4xl mx-auto p-6"},l().createElement("h1",{className:"text-3xl font-bold text-gray-800 mb-6"},"Custom React Hooks"),l().createElement("section",{className:"mb-8"},l().createElement("h2",{className:"text-2xl font-semibold text-gray-700 mb-4"},"Understanding Custom Hooks"),l().createElement("p",{className:"text-gray-600 mb-4"},'Custom Hooks are JavaScript functions that start with "use" and may call other Hooks. They let you extract component logic into reusable functions.'),l().createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4"},l().createElement("div",{className:"bg-white p-4 rounded-lg shadow"},l().createElement(o.est,{className:"text-2xl text-blue-600 mb-2"}),l().createElement("h3",{className:"text-lg font-semibold text-gray-700 mb-2"},"Reusable"),l().createElement("p",{className:"text-gray-600"},"Share logic between components")),l().createElement("div",{className:"bg-white p-4 rounded-lg shadow"},l().createElement(o.jTZ,{className:"text-2xl text-blue-600 mb-2"}),l().createElement("h3",{className:"text-lg font-semibold text-gray-700 mb-2"},"Stateful"),l().createElement("p",{className:"text-gray-600"},"Maintain local state")),l().createElement("div",{className:"bg-white p-4 rounded-lg shadow"},l().createElement(o.PjK,{className:"text-2xl text-blue-600 mb-2"}),l().createElement("h3",{className:"text-lg font-semibold text-gray-700 mb-2"},"Composable"),l().createElement("p",{className:"text-gray-600"},"Combine multiple hooks")))),l().createElement("section",{className:"mb-8"},l().createElement("h2",{className:"text-2xl font-semibold text-gray-700 mb-4"},"Example 1: useLocalStorage"),l().createElement("div",{className:"space-y-4"},l().createElement(c,null),l().createElement("div",{className:"bg-gray-100 p-4 rounded-lg text-sm font-mono"},"const useLocalStorage = (key, initialValue) => {\n  const [storedValue, setStoredValue] = useState(() => {\n    try {\n      const item = window.localStorage.getItem(key);\n      return item ? JSON.parse(item) : initialValue;\n    } catch (error) {\n      return initialValue;\n    }\n  });\n\n  const setValue = value => {\n    try {\n      const valueToStore = value instanceof Function ? value(storedValue) : value;\n      setStoredValue(valueToStore);\n      window.localStorage.setItem(key, JSON.stringify(valueToStore));\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  return [storedValue, setValue];\n};\n\n// Usage\nconst [theme, setTheme] = useLocalStorage('theme', 'light');"))),l().createElement("section",{className:"mb-8"},l().createElement("h2",{className:"text-2xl font-semibold text-gray-700 mb-4"},"Example 2: useWindowSize"),l().createElement("div",{className:"space-y-4"},l().createElement(i,null),l().createElement("div",{className:"bg-gray-100 p-4 rounded-lg text-sm font-mono"},"const useWindowSize = () => {\n  const [windowSize, setWindowSize] = useState({\n    width: window.innerWidth,\n    height: window.innerHeight,\n  });\n\n  useEffect(() => {\n    const handleResize = () => {\n      setWindowSize({\n        width: window.innerWidth,\n        height: window.innerHeight,\n      });\n    };\n\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  return windowSize;\n};\n\n// Usage\nconst { width, height } = useWindowSize();"))),l().createElement("section",{className:"mb-8"},l().createElement("h2",{className:"text-2xl font-semibold text-gray-700 mb-4"},"Example 3: useFetch"),l().createElement("div",{className:"space-y-4"},l().createElement(m,null),l().createElement("div",{className:"bg-gray-100 p-4 rounded-lg text-sm font-mono"},"const useFetch = (url) => {\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        const response = await fetch(url);\n        const json = await response.json();\n        setData(json);\n        setError(null);\n      } catch (err) {\n        setError('Failed to fetch data');\n        setData(null);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, [url]);\n\n  return { data, loading, error };\n};\n\n// Usage\nconst { data, loading, error } = useFetch(url);"))),l().createElement("section",{className:"mb-8"},l().createElement("h2",{className:"text-2xl font-semibold text-gray-700 mb-4"},"Best Practices"),l().createElement("div",{className:"space-y-4"},l().createElement("div",{className:"bg-green-50 border-l-4 border-green-500 p-4"},l().createElement("p",{className:"text-green-700"},l().createElement("strong",null,"✅ Do:")),l().createElement("ul",{className:"list-disc list-inside mt-2 text-green-700"},l().createElement("li",null,'Start custom hook names with "use"'),l().createElement("li",null,"Keep hooks focused on a single concern"),l().createElement("li",null,"Handle cleanup in useEffect"),l().createElement("li",null,"Use TypeScript for better type safety"),l().createElement("li",null,"Document your custom hooks"))),l().createElement("div",{className:"bg-red-50 border-l-4 border-red-500 p-4"},l().createElement("p",{className:"text-red-700"},l().createElement("strong",null,"❌ Don't:")),l().createElement("ul",{className:"list-disc list-inside mt-2 text-red-700"},l().createElement("li",null,"Call hooks conditionally"),l().createElement("li",null,"Create hooks that do too many things"),l().createElement("li",null,"Forget to handle errors"),l().createElement("li",null,"Ignore cleanup in effects"))))),l().createElement("section",{className:"mb-8"},l().createElement("h2",{className:"text-2xl font-semibold text-gray-700 mb-4"},"Common Custom Hooks Patterns"),l().createElement("ul",{className:"list-disc list-inside text-gray-600 space-y-2"},l().createElement("li",null,"State persistence (localStorage, sessionStorage)"),l().createElement("li",null,"Data fetching and caching"),l().createElement("li",null,"Form handling and validation"),l().createElement("li",null,"Media queries and responsive design"),l().createElement("li",null,"Animation and transition state"),l().createElement("li",null,"Browser APIs (geolocation, clipboard, etc.)"),l().createElement("li",null,"WebSocket connections"),l().createElement("li",null,"Authentication state"))),l().createElement("div",{className:"mt-12 flex justify-between items-center"},l().createElement(r.N_,{to:"/react-course/useMemo",className:"text-blue-600 hover:text-blue-800"},"← Previous"),l().createElement(r.N_,{to:"/react-course/class-components",className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors"},"Next: Component Patterns →")))}}]);